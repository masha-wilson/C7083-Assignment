<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Welcome to My Data Visualization Project – C7083 Data Visualization and Analytics Assessment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #012169;
      }
</style>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">C7083 Data Visualization and Analytics Assessment</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Visual Essay</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Welcome to My Data Visualization Project</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page:</h2>
   
  <ul>
  <li><a href="#bee-colony-losses-in-the-usa" id="toc-bee-colony-losses-in-the-usa" class="nav-link active" data-scroll-target="#bee-colony-losses-in-the-usa">Bee Colony Losses in the USA</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="bee-colony-losses-in-the-usa" class="level1">
<h1>Bee Colony Losses in the USA</h1>
<p>Honeybees (Apis mellifera) are known for living in hives and producing honey. They also play an essential role in the environment, pollinating a wide range of plants. The survival of many ecosystems is dependent on them, particularly in agriculture. From 2005, beekeepers began reporting a reduction in numbers of colonies which is of great concern. Here, we examine data on bee colony losses in the US between 2015-2021 and the stressors that might be contributing to this.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="GIF.gif" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>As the above map shows, the US is no exception to the global trend of declining bee population. Data from 2015-2021 shows that despite fluctuations, it was still a widespread phenomenon affecting the whole country. The reason for such fluctuations between states is, in part, due to being transported by beekeepers to forage in other parts of the country (Bond, et al., 2021). This is especially true of the commercial industry where beekeepers travel to meet pollination needs of crop growers (Bond, et al., 2021). Nevertheless, we can still see that many states were experiencing losses of over 20% of their bee colonies. This is higher than the average figure previously considered acceptable by beekeepers – 17.8% (Steinhauer, et al., 2021).</p>
<p>The map uses data from the end of Winter for each year (January-March). However, bee colony populations vary throughout the year. According to the <em>Bee Informed Partnership</em>, the winter period between 2019-2020 was the second lowest on record (BIP, 2020) which would have been positive news if not for the fact that this followed a summer with one of the highest numbers of losses (BIP, 2020).</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>TidyTuesday’s</em> data for March-June was missing, so we cannot see how significant the losses were, but a substantial drop can be seen in early 2020. Honing in on only data from October-December, the following chart confirms that the winter period at the end of 2019 was one of the lowest for bee colony losses for that time of year. This is in line with the findings reported by the <em>Bee Informed Partnership</em>.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>So far two things are clear. A concerning amount of bee colonies are being lost. Winters are a period when the percentage lost is at the highest. What isn’t yet clear are the whys. Why is this an important issue? And why is it happening?</p>
<p>The answer to this first question is that Apis mellifera provide an immense number of ecosystem services. This means that the work they do, particularly the pollination of plants, delivers many benefits to the natural environment which have a positive impact on our own lives and wellbeing.</p>
<p>1) Most plants require pollinators to grow successfully in order to maintain healthy and stable ecosystems (Stein, et al., 2017). This also means that bees play an important role in agriculture (Quigley, et al., 2019). Even self-pollinating crops like strawberries produce a significantly better yield (both in quality and quantity) when pollinated by insects such as bees (Klatt, et al., 2014). Therefore we, along with many other species, depend on them to feed ourselves. There is already an area in China where farmers have to pollinate crops by hand, due to a lack of pollinators (Ren et al, 2018). This is not a sustainable way to feed a growing global population.</p>
<p>2) There are even more provisions we get from honey bees directly. These include non-edible goods like beeswax (which has many uses - candles, cosmetics and polishes to name just a few) and propolis (which is utilised in some medicines and cancer treatments). In addition, we obtain more food sources from them like royal jelly, and of course honey (Abban, et al., 2024) (Bond, et al., 2021).</p>
<p>Furthermore, honey bees are intricate creatures, and are highly sensitive to changes in the environment. For example, increased pollution levels interfere with their cognitive functions and navigation systems which, in turn puts a strain on their health and size of the populations (Leonard, et al., 2019). Therefore, in the modern world where environmental protection is of growing concern, the abundance (or lack of) healthy honey bee colonies is a potential indicator of the state of the environment.</p>
<p>Now let us consider the second question: what is causing the decline in bee colonies? Unfortunately, air pollution is just one of many factors that puts a strain on honey bees. There are several other stressors:</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Ignoring 6 observations</code></pre>
</div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-fcf06ff414374faf2a33" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-fcf06ff414374faf2a33">{"x":{"visdat":{"33b413027cb6":["function () ","plotlyVisDat"]},"cur_data":"33b413027cb6","attrs":{"33b413027cb6":{"x":{},"y":{},"color":{},"frame":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Bee Colony Stressors","xaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Months"},"type":"category","categoryorder":"array","categoryarray":["January-March","April-June","July-September","October-December"]},"yaxis":{"domain":[0,1],"automargin":true,"title":{"text":"% Colonies Affected"},"range":[-0.47500000000000009,58.375]},"hovermode":"closest","showlegend":true,"sliders":[{"currentvalue":{"prefix":"year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["2015"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2015","value":"2015"},{"method":"animate","args":[["2016"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2016","value":"2016"},{"method":"animate","args":[["2017"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2017","value":"2017"},{"method":"animate","args":[["2018"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2018","value":"2018"},{"method":"animate","args":[["2019"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2019","value":"2019"},{"method":"animate","args":[["2020"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2020","value":"2020"},{"method":"animate","args":[["2021"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2021","value":"2021"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true}}]}]}]},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["January-March","April-June","July-September","October-December"],"y":[3.1000000000000001,4.9000000000000004,8,5.2000000000000002],"frame":"2015","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[8.5999999999999996,19.5,17.600000000000001,11.4],"frame":"2015","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[6.9000000000000004,11.6,8.8000000000000007,7.2999999999999998],"frame":"2015","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[7.4000000000000004,16.600000000000001,15.199999999999999,9.5],"frame":"2015","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[4.2999999999999998,3.5,4.7999999999999998,6.9000000000000004],"frame":"2015","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[25.199999999999999,43.399999999999999,41.200000000000003,37],"frame":"2015","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"2015","data":[{"x":["January-March","April-June","July-September","October-December"],"y":[3.1000000000000001,4.9000000000000004,8,5.2000000000000002],"frame":"2015","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[8.5999999999999996,19.5,17.600000000000001,11.4],"frame":"2015","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[6.9000000000000004,11.6,8.8000000000000007,7.2999999999999998],"frame":"2015","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[7.4000000000000004,16.600000000000001,15.199999999999999,9.5],"frame":"2015","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[4.2999999999999998,3.5,4.7999999999999998,6.9000000000000004],"frame":"2015","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[25.199999999999999,43.399999999999999,41.200000000000003,37],"frame":"2015","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5]},{"name":"2016","data":[{"x":["January-March","April-June","July-September","October-December"],"y":[6.2000000000000002,9.5,6.7000000000000002,8.3000000000000007],"frame":"2016","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[12.6,16.300000000000001,15.6,16.899999999999999],"frame":"2016","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[7,12.300000000000001,9.3000000000000007,10.1],"frame":"2016","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[10.5,12.4,15.1,9.4000000000000004],"frame":"2016","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[5.4000000000000004,4.0999999999999996,4.5,6.4000000000000004],"frame":"2016","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[34.299999999999997,53.399999999999999,46.100000000000001,46.600000000000001],"frame":"2016","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5]},{"name":"2017","data":[{"x":["January-March","April-June","July-September","October-December"],"y":[7.0999999999999996,4.2999999999999998,4.7999999999999998,9.4000000000000004],"frame":"2017","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[15.6,11.699999999999999,15,18.899999999999999],"frame":"2017","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[7.2000000000000002,6.5999999999999996,11.6,11.1],"frame":"2017","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[8.9000000000000004,12.9,10.9,15],"frame":"2017","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[7.4000000000000004,4.4000000000000004,4.9000000000000004,7.5999999999999996],"frame":"2017","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[42.200000000000003,41.600000000000001,45.5,55.299999999999997],"frame":"2017","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5]},{"name":"2018","data":[{"x":["January-March","April-June","July-September","October-December"],"y":[4.2999999999999998,11.4,6.4000000000000004,10.4],"frame":"2018","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[12.699999999999999,19,15.199999999999999,20.300000000000001],"frame":"2018","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[8.6999999999999993,14.4,13.9,8.4000000000000004],"frame":"2018","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[10.300000000000001,13,15.699999999999999,13.800000000000001],"frame":"2018","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[7.2000000000000002,9.0999999999999996,4.7000000000000002,6.5],"frame":"2018","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[40.799999999999997,53.399999999999999,53.799999999999997,50.5],"frame":"2018","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5]},{"name":"2019","data":[{"x":["January-March","July-September","October-December"],"y":[7.0999999999999996,8.5,5.4000000000000004],"frame":"2019","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","July-September","October-December"],"y":[14.800000000000001,13.4,15],"frame":"2019","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","July-September","October-December"],"y":[9,11.9,8.5999999999999996],"frame":"2019","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","July-September","October-December"],"y":[13.6,13.6,10.9],"frame":"2019","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","July-September","October-December"],"y":[5.2000000000000002,4.5,5.2999999999999998],"frame":"2019","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","July-September","October-December"],"y":[45.600000000000001,44.100000000000001,45.700000000000003],"frame":"2019","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5]},{"name":"2020","data":[{"x":["January-March","April-June","July-September","October-December"],"y":[4.4000000000000004,5.5,6.0999999999999996,6.7999999999999998],"frame":"2020","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[8,12.199999999999999,12.800000000000001,11],"frame":"2020","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[5.5999999999999996,10.800000000000001,13.800000000000001,4.0999999999999996],"frame":"2020","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[5,6.0999999999999996,21.699999999999999,8],"frame":"2020","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[5.4000000000000004,5.2000000000000002,4.0999999999999996,6.2999999999999998],"frame":"2020","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June","July-September","October-December"],"y":[25.5,42.299999999999997,55.700000000000003,48.600000000000001],"frame":"2020","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5]},{"name":"2021","data":[{"x":["January-March","April-June"],"y":[2.2000000000000002,5.5],"frame":"2021","type":"bar","name":"Disesases","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June"],"y":[8.8000000000000007,12.800000000000001],"frame":"2021","type":"bar","name":"Other pests/parasites","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June"],"y":[6.5,11.300000000000001],"frame":"2021","type":"bar","name":"Other","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June"],"y":[6.2999999999999998,12.300000000000001],"frame":"2021","type":"bar","name":"Pesticides","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June"],"y":[3.2999999999999998,3.8999999999999999],"frame":"2021","type":"bar","name":"Unknown","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":["January-March","April-June"],"y":[31.300000000000001,48.700000000000003],"frame":"2021","type":"bar","name":"Varroa mites","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Farmers use pesticides to prevent losing crops to insects and parasites. Many of these agrochemicals are detrimental to bees too; particularly <em>neonicotinoids</em> (Woodcock, et al., 2017).</p>
<p>But it is not just crops that are targeted by pests. Bee colonies are also targeted by pest species, particularly parasites. Honey bees are very hygienic creatures and each colony consists of workers dedicated to cleaning the brood by removing dead or infected cells (Bigio, et al., 2013), but they are still prone to diseases.</p>
<p>However, as the above graph shows, the biggest culprit is the varroa mite. This species is a parasite that not only feeds on bees, but also carries diseases that can spread through the population within a colony (Abban, et al., 2024). In particular, varroosis is a disease that causes devastation within bee populations. (Abban et al., 2024).</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>At first glance we can see a very slight correlation which could suggest that the more colonies are lost, the more likely there will be varroa mites behind it. This is because when there was a higher percentage of colonies lost, the percentage of those infested by varroa mites was also higher. For example, when there were &gt;25% of colonies being lost, the percentage of varroa mite stress was also mostly above 25%. However, at the lower end, the data was much more dispersed. Whilst there were many areas with a lower proportion of varroa mite related bee stress that also had a relatively low percentage of colonies lost, there were also several cases of a high varroa mite prevalence, with a relatively low loss rate. Here it seems that varroa mites are not the sole culprit.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 101 rows containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now we can see that there is a very slight correlation in all four of these stressors. Once again, it is obvious that varroa mites affect a significantly higher percentage of bee colonies than any other stress factors.</p>
<p>We have seen that the loss of bee colonies has been an issue in the US. In spite of fluctuations in numbers, the percentage of colonies being lost was consistently higher than the figure (once 17.8%) deemed acceptable by beekeepers. The prevalence of four bee stressors was examined, and varroa mites were found to impact on the highest percentage of colonies. However, the trend between colonies lost and colonies affected by these parasites was not strong enough to form a solid conclusion. More data on this and the other stressors (diseases, pesticides and other pests) will need to be collected. It might be helpful to include pollution levels in future data collection too.</p>
<p><strong>References</strong></p>
<p>Abban, S., Smith, B., Corona, M.&nbsp;<em>et al.</em>&nbsp;Prevalence and distribution of&nbsp;<em>Varroa destructor</em>&nbsp;and&nbsp;<em>Nosema</em>&nbsp;spp. in symptomatic honey bee colonies across the USA from 2015 to 2022.&nbsp;<em>Sci Rep</em>&nbsp;<strong>14</strong>, 1726 (2024).</p>
<p>Bigio G, Schürch R, Ratnieks FL. Hygienic behavior in honey bees (Hymenoptera: Apidae): effects of brood, food, and time of the year. J Econ Entomol. 2013 Dec;106(6):2280-5</p>
<p>BIP, 2020. <em>Preliminary Results of the 2019-2020 National Honey Bee Colony Loss Survey.</em> [Online]<br>
Available at: <u>https://beeinformed.org/2020/06/22/preliminary-results-of-the-2019-2020-national-honey-bee-colony-loss-survey/</u><br>
[Accessed 6 December 2024].</p>
<p>Bond, Jennifer K., Claudia Hitaj, David Smith, Kevin Hunt, Agnes Perez, and Gustavo Ferreira. June 2021. Honey Bees on the Move: From Pollination to Honey Production and Back, ERR-290, U.S. Department of Agriculture, Economic Research Service.</p>
<p>Klatt, B. K. <em>et al.</em> (2014) ‘Bee pollination improves crop quality, shelf life and commercial value’, <em>Proceedings of the Royal Society B: Biological Sciences</em>. Royal Society, 281(1775). doi: 10.1098/rspb.2013.2440.</p>
<p>Quigley, T.P., Amdam, G.V. and Harwood, G.H. (2019) ‘Honey bees as bioindicators of changing global agricultural landscapes’,&nbsp;<em>Current Opinion in Insect Science,</em> 35, pp.&nbsp;132–137 Available at:&nbsp;<a href="https://doi.org/10.1016/j.cois.2019.08.012" class="uri">https://doi.org/10.1016/j.cois.2019.08.012</a>.</p>
<p>R. J. Leonard, V. Vergoz, N. Proschogo, C. McArthur, and D. F. Hochuli, “Petrol exhaust pollution impairs honey bee learning and memory,” Oikos, vol.&nbsp;128, no. 2, pp.&nbsp;264–273, Jan.&nbsp;2019</p>
<p>Ren, Z., Zhao, Y., Liang, H., Tao, Z., Tang, H., Zhang, H. and Wang, H. (2018) ‘Pollination ecology in China from 1977 to 2017’,&nbsp;<em>Plant Diversity,</em> 40(4), pp.&nbsp;172–180 Available at:&nbsp;<a href="https://doi.org/10.1016/j.pld.2018.07.007" class="uri">https://doi.org/10.1016/j.pld.2018.07.007</a>.</p>
<p>Stein, K., Coulibaly, D., Stenchly, K.&nbsp;<em>et al.</em>&nbsp;Bee pollination increases yield quantity and quality of cash crops in Burkina Faso, West Africa.&nbsp;<em>Sci Rep</em>&nbsp;<strong>7</strong>, 17691 (2017).</p>
<p>Steinhauer, N. et al., 2021. <em>United States Honey Bee Colony Losses 2020-2021: Preliminary Results,</em> s.l.: Bee Informed Partnership.</p>
<p>Woodcock, B A, Bullock, J M, Shore, R F, Heard, M S, Pereira, M G, Redhead, J, Ridding, L, Dean, H, Sleep, D, Henrys, P, Peyton, J, Hulmes, S, Hulmes, L, Sárospataki, M, Saure, C, Edwards M, Genersch, E, Knäbe, S &amp; Pywell, R F. Country-specific effects of neonicotinoid pesticides on honeybees and wild bees,&nbsp;<em>Science</em>, VOL 356, ISSUE 6345, DOI: 10.1126/science.aaa1190</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>